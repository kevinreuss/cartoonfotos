<!DOCTYPE html>
<html lang="de">
  <head>
    <!-- 100% privacy-first analytics -->
    <script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
    
    <!-- Hotjar Tracking Code for cartoonfotos.de -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:5352550,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cartoonfotos.de - Verwandle deine Fotos in einzigartige Cartoons</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
      section {
        width: 100%;
        padding: 4rem 0;
      }

      .hero {
        background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1);
        text-align: center;
        color: white;
        padding: 3rem 0;
      }

      .hero-cta {
        margin-top: 3rem;
      }

      .scroll-to-order {
        padding: 1rem 2.5rem;
        font-size: 1.2rem;
        font-weight: 600;
        border-radius: 50px;
        border: none;
        background: white;
        color: #4ecdc4;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .scroll-to-order:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        background: white;
        color: #ff6b6b;
      }

      .scroll-to-order .fa-arrow-down {
        transition: transform 0.3s ease;
      }

      .scroll-to-order:hover .fa-arrow-down {
        transform: translateY(4px);
      }

      @media (max-width: 768px) {
        .hero-cta {
          margin-top: 2rem;
        }
        
        .scroll-to-order {
          padding: 0.8rem 2rem;
          font-size: 1.1rem;
        }
      }

      .benefits {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin: 2rem auto;
        flex-wrap: wrap;
        max-width: 1200px;
      }

      .benefit-item {
        text-align: center;
        padding: 1.5rem;
        flex: 1;
        min-width: 250px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        transition: transform 0.3s ease;
      }

      .benefit-item:hover {
        transform: translateY(-5px);
      }

      .examples {
        background-color: white;
      }

      .examples-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      .pricing-section {
        background-color: white;
        padding: 2rem 0 0 0;
      }

      .pricing-toggle {
        padding: 0 1rem;
      }

      .package-buttons {
        display: flex;
        justify-content: center;
        gap: 1rem;
        max-width: 500px;
        margin: 0 auto;
      }

      .package-btn {
        flex: 1;
        padding: 1rem 1.5rem;
        background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
        border: 3px solid rgb(169, 169, 169);
        color: white;
        transition: all 0.3s ease;
        font-weight: 500;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        cursor: pointer;
      }

      .package-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      }

      .btn-check:checked + .package-btn {
        border: 3px solid white;
      }

      /* Anpassung für den "Spare 20%" Text */
      .package-btn small {
        display: block;
        font-size: 0.8rem;
        opacity: 0.9;
        margin-top: 0.3rem;
      }

      @media (max-width: 768px) {
        .package-buttons {
          padding: 0 1rem;
        }

        .package-btn {
          padding: 0.8rem 1rem;
        }
      }

      .steps {
        background-color: #f8f9fa;
        position: relative;
        overflow: hidden;
      }

      .steps-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      .step-item {
        text-align: center;
        margin-bottom: 2rem;
        padding: 2.5rem;
        background: white;
        border-radius: 15px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        height: 100%;
        transition: transform 0.3s ease;
      }

      .step-item:hover {
        transform: translateY(-5px);
      }

      .step-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 1.5rem;
        background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2.5rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
      }

      .step-item h4 {
        color: #ff6b6b;
        margin-bottom: 1rem;
        font-weight: 600;
      }

      .step-item p {
        color: #666;
        margin-bottom: 0;
        line-height: 1.5;
      }

      @media (max-width: 768px) {
        .step-icon {
          width: 70px;
          height: 70px;
          font-size: 2rem;
        }
        
        .step-item {
          padding: 2rem;
          margin-bottom: 2rem;
          transform: none;
        }
        
        .col-12.col-md-4 {
          margin-bottom: 2rem;
        }
        
        .col-12.col-md-4:last-child {
          margin-bottom: 0;
        }
        
        .steps-container {
          padding: 0 1.5rem;
        }
        
        .steps {
          padding: 3rem 0;
        }
        
        .step-item:hover {
          transform: translateY(-3px);
        }
        
        .step-item:active {
          transform: translateY(-2px);
        }
      }

      @media (max-width: 375px) {
        .step-item {
          padding: 1.5rem;
          margin-bottom: 1.5rem;
        }
        
        .col-12.col-md-4 {
          margin-bottom: 1.5rem;
        }
        
        .step-icon {
          width: 60px;
          height: 60px;
          font-size: 1.75rem;
        }
      }

      .btn-primary {
        background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
        border: none;
        padding: 0.8rem 2rem;
        transition: transform 0.3s ease;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        background: linear-gradient(135deg, #4ecdc4, #ff6b6b);
      }

      .btn-outline-primary {
        border-color: #4ecdc4;
        color: #4ecdc4;
      }

      .btn-outline-primary:hover {
        background-color: #4ecdc4;
        border-color: #4ecdc4;
        color: white;
      }

      .btn-check:checked + .btn-outline-primary {
        background-color: #4ecdc4;
        border-color: #4ecdc4;
        color: white;
      }

      .btn-check:active + .btn-outline-primary,
      .btn-check:focus + .btn-outline-primary {
        background-color: #4ecdc4;
        border-color: #4ecdc4;
        color: white;
      }

      .upload-section {
        background-color: #4ecdc4;
        margin-left: 1rem;
        margin-right: 1rem;
        border-radius: 1rem;
        width: auto !important;
      }

      .upload-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
    flex-direction: column;
      }

      .preview-images {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin: 1rem 0;
        justify-content: center;
      }

      .preview-image {
        width: 150px;
        height: 150px;
        object-fit: cover;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .preview-image:hover {
        transform: scale(1.05);
      }

      /* Mobile Optimierungen */
      @media (max-width: 768px) {
        section {
          padding: 2rem 0;
        }

        .benefit-item {
          flex: 100%;
          margin-bottom: 1rem;
        }

        .preview-image {
          width: 120px;
          height: 120px;
        }

        h1.display-4 {
          font-size: 2rem;
          font-weight: 600;
        }

        .lead {
          font-size: 1.1rem;
        }
      }

      .transformation-pair {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: white;
        padding: 1.5rem;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .transform-arrow {
        color: #4ecdc4;
        font-size: 2rem;
        margin: 0.5rem 0;
      }

      @media (min-width: 576px) {
        .transformation-pair {
          flex-direction: row;
          justify-content: space-between;
        }
        
        .transformation-pair img {
          width: 45%;
        }
      }

      .cta-heading {
        font-size: 2.5rem;
        font-weight: bold;
        background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-top: 0;
        padding-top: 2rem;
      }

      @media (max-width: 768px) {
        .cta-heading {
          font-size: 2rem;
        }
      }

      .image-compare {
        position: relative;
        width: 100%;
        height: 300px;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        cursor: col-resize;
      }

      .image-compare img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .image-before {
        z-index: 1;
        clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
      }

      .slider-handle {
        position: absolute;
        width: 2px;
        height: 100%;
        left: 50%;
        top: 0;
        z-index: 2;
        background: rgba(255, 255, 255, 0.8);
        transform: translateX(-50%);
      }

      .slider-line {
        position: absolute;
        width: 100%;
        height: 100%;
        background: white;
      }

      .slider-circle {
        position: absolute;
        width: 40px;
        height: 40px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      .slider-circle i {
        font-size: 12px;
        color: #4ecdc4;
      }

      .slider-circle i:first-child {
        margin-right: 4px;
      }

      .slider-circle i:last-child {
        margin-left: 4px;
      }

      @media (max-width: 768px) {
        .image-compare {
          height: 250px;
          margin-bottom: 2rem;
        }
      }

      .payment-methods {
        text-align: center;
      }

      .payment-icons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
      }

      .payment-icons i {
        color: #666;
        transition: color 0.3s ease;
      }

      .payment-icons i:hover {
        color: #4ecdc4;
      }
    </style>
  </head>
  <body>
    <section class="hero">
      <div class="container">
        <img src="images/logo/2_mittel/2_logo-text.png" alt="cartoonfotos.de Logo" class="mb-4" style="max-width: 300px; width: 60%;">
        <h1 class="display-4">
          Verwandle deine Fotos in einzigartige Cartoons
        </h1>
        <p class="lead pt-2">
          <b>schnell. einfach. günstig.</b>
        </p>
        <div class="hero-cta">
          <button class="btn btn-light btn-lg scroll-to-order" onclick="scrollToOrder()">
            Jetzt Cartoon Fotos bestellen
            <i class="fas fa-arrow-down ms-2"></i>
          </button>
        </div>
      </div>
    </section>

    <section class="examples">
      <div class="examples-container">
        <div class="row g-4">
          <!-- Erste Transformation -->
          <div class="col-12 col-lg-4">
            <div class="image-compare">
              <img class="image-before" src="images/baby.jpg" alt="Original Foto 1" />
              <img class="image-after" src="images/baby-cartoon.jpg" alt="Cartoon Version 1" />
              <div class="slider-handle">
                <div class="slider-line"></div>
                <div class="slider-circle">
                  <i class="fas fa-chevron-left"></i>
                  <i class="fas fa-chevron-right"></i>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Zweite Transformation -->
          <div class="col-12 col-lg-4">
            <div class="image-compare">
              <img class="image-before" src="images/friends.png" alt="Original Foto 2" />
              <img class="image-after" src="images/friends-cartoon.jpg" alt="Cartoon Version 2" />
              <div class="slider-handle">
                <div class="slider-line"></div>
                <div class="slider-circle">
                  <i class="fas fa-chevron-left"></i>
                  <i class="fas fa-chevron-right"></i>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Dritte Transformation -->
          <div class="col-12 col-lg-4">
            <div class="image-compare">
              <img class="image-before" src="images/dog.jpg" alt="Original Foto 3" />
              <img class="image-after" src="images/dog-cartoon.jpg" alt="Cartoon Version 3" />
              <div class="slider-handle">
                <div class="slider-line"></div>
                <div class="slider-circle">
                  <i class="fas fa-chevron-left"></i>
                  <i class="fas fa-chevron-right"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="steps">
      <div class="steps-container">
        <h2 class="text-center mb-4">So einfach geht's:</h2>
        <div class="row">
          <div class="col-12 col-md-4">
            <div class="step-item">
              <div class="step-icon">
                <i class="fas fa-image"></i>
              </div>
              <h4>1. Bilder hochladen & bezahlen</h4>
              <p>Lade Deine Fotos hoch und bezahle sicher online</p>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="step-item">
              <div class="step-icon">
                <i class="fas fa-paint-brush"></i>
              </div>
              <h4>2. Wir erstellen Deine Cartoons</h4>
              <p>Wir verwandeln Deine Fotos mithilfe von KI in tolle Cartoons</p>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="step-item">
              <div class="step-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <h4>3. Fertige Bilder per E-Mail</h4>
              <p>Du erhältst Deine Cartoon Bilder innerhalb von 24 Stunden per E-Mail</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="pricing-section">
      <div class="pricing-toggle text-center">
        <h1 class="cta-heading mb-5">Jetzt Cartoon Fotos bestellen</h1>
      </div>
    </section>

    <section class="upload-section">
      <div class="upload-container mb-4">
        <div class="pricing-toggle text-center">
          <h2 class="mb-2" style="color: white">Wähle Dein Paket:</h2>
          <div class="package-buttons">
            <input type="radio" class="btn-check" name="package" id="single" checked />
            <label class="package-btn" for="single">1 Bild für 0,99€</label>

            <input type="radio" class="btn-check" name="package" id="multi" />
            <label class="package-btn" for="multi">
              <b>5 Bilder für 3,99€</b><br />
              <small>Spare 20%!</small>
            </label>
          </div>
        </div>
      </div>

      <div class="upload-container">
        <h2 class="text-center mb-2"  style="color: white" id="uploadTitle">Lade Dein Bild hoch:</h2>
        <div class="text-center" style="display: flex; flex-direction: column; align-items: center;">
          <input
            type="file"
            class="form-control mb-3"
            style="width: 100%;"
            id="imageUpload"
            multiple
            accept="image/*"
          />
          <div class="preview-images" id="imagePreview">
            <!-- Hier werden die Vorschaubilder angezeigt -->
          </div>
        </div>
      </div>

      <div class="upload-container" style="display: flex; flex-direction: column; align-items: center;" >
        <h2 class="text-center mb-2"  style="color: white" id="uploadTitle">Cartoon Fotos senden an:</h2>
          <!-- Email Input -->
            <input
              type="email"
              class="form-control mb-3"
              id="emailInput"
              name="email"
              placeholder="E-Mail"
              required
              autocomplete="email"
              style="width: fit-content;"
            />
      </div>

      </div>

    </section>

     <div class="upload-container pt-3 text-center" style="display: flex; flex-direction: column; align-items: center;" >
          <!-- Zahlungsmethoden -->
          <div class="payment-methods mb-3">
            <p class="text-muted mb-2">Sichere Bezahlung mit:</p>
            <div class="payment-icons">
              <i class="fab fa-stripe fa-2x mx-2" title="Stripe"></i>
              <i class="fab fa-paypal fa-2x mx-2" title="PayPal"></i>
              <i class="fas fa-credit-card fa-2x mx-2" title="Kreditkarte"></i>
            </div>
          </div>
          
          <!-- AGB Checkbox -->
          <div class="mb-3 form-check" style="width: fit-content;">
            <input type="checkbox" class="form-check-input" id="agbCheck" required>
            <label class="form-check-label" for="agbCheck">
              Ich akzeptiere die <a style="text-decoration: none;" href="rechtliches.html#agb" target="_blank">AGB</a> und <a style="text-decoration: none;" href="rechtliches.html#datenschutz" target="_blank">Datenschutzerklärung</a>
            </label>
          </div>
          <button
            class="btn btn-primary btn-lg"
            id="submitButton"
            disabled
            style="
              --bs-btn-active-bg: #4ecdc4;
              --bs-btn-active-border-color: #4ecdc4;
            "
          >
            <span id="buttonText">Fotos bestellen</span>
            <span id="loadingSpinner" class="spinner-border spinner-border-sm ms-2 d-none" role="status">
              <span class="visually-hidden">Laden...</span>
            </span>
          </button>
      </div>

    <footer class="bg-dark text-light py-4 mt-5">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <a style="text-decoration: none;" href="rechtliches.html#impressum" class="text-light me-3">Impressum</a>
            <a style="text-decoration: none;" href="rechtliches.html#agb" class="text-light me-3">AGB</a>
            <a style="text-decoration: none;" href="rechtliches.html#datenschutz" class="text-light">Datenschutzerklärung</a>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-12 text-center">
            <small>&copy; 2025 cartoonfotos.de - Alle Rechte vorbehalten</small>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Funktion zur Überprüfung der Formulareingaben
      function validateForm() {
        const email = document.getElementById("emailInput").value;
        const agbAccepted = document.getElementById("agbCheck").checked;
        const files = document.getElementById("imageUpload").files;
        const maxFiles = document.getElementById("single").checked ? 1 : 5;
        const submitButton = document.getElementById("submitButton");

        const isValid = email && 
                       agbAccepted && 
                       files.length > 0 && 
                       files.length === maxFiles;

        submitButton.disabled = !isValid;
      }

      // Event Listener für alle Formularfelder
      document.getElementById("emailInput").addEventListener("input", validateForm);
      document.getElementById("agbCheck").addEventListener("change", validateForm);
      document.getElementById("imageUpload").addEventListener("change", function(e) {
        const preview = document.getElementById("imagePreview");
        preview.innerHTML = "";

        const files = e.target.files;
        const maxFiles = document.getElementById("single").checked ? 1 : 5;

        // Überprüfe nur auf zu wenige Dateien
        if (files.length < maxFiles) {
          alert(
            `Bitte wähle mindestens ${maxFiles} Bild${
              maxFiles > 1 ? "er" : ""
            } aus.`
          );
          this.value = ""; // Reset file input
          validateForm();
          return;
        }

        // Erstelle einen neuen DataTransfer für die begrenzte Anzahl von Dateien
        const dataTransfer = new DataTransfer();
        
        // Füge nur die ersten maxFiles Dateien hinzu
        Array.from(files)
          .slice(0, maxFiles)
          .forEach(file => {
            dataTransfer.items.add(file);
          });

        // Ersetze die Dateien im Input
        this.files = dataTransfer.files;

        // Zeige die Vorschaubilder an
        Array.from(this.files).forEach((file) => {
          const reader = new FileReader();

          reader.onload = function (e) {
            const img = document.createElement("img");
            img.src = e.target.result;
            img.className = "preview-image";
            preview.appendChild(img);
          };

          reader.readAsDataURL(file);
        });
        
        validateForm();
      });

      // Paketauswahl-Funktionalität
      document.querySelectorAll('[name="package"]').forEach((radio) => {
        radio.addEventListener("change", function () {
          const imageUpload = document.getElementById("imageUpload");
          const maxFiles = document.getElementById("single").checked ? 1 : 5;
          const uploadTitle = document.getElementById("uploadTitle");

          uploadTitle.textContent = maxFiles === 1 
            ? "Lade Dein Bild hoch:" 
            : "Lade Deine 5 Bilder hoch:";

          imageUpload.setAttribute("multiple", maxFiles > 1 ? "" : null);

          // Reset Upload und Vorschau
          imageUpload.value = "";
          document.getElementById("imagePreview").innerHTML = "";
          validateForm();
        });
      });

      // Funktion zum Komprimieren der Bilder
      async function compressImage(file) {
        return new Promise((resolve) => {
          const reader = new FileReader();
          reader.onload = function(e) {
            const img = new Image();
            img.onload = function() {
              const canvas = document.createElement('canvas');
              let width = img.width;
              let height = img.height;
              
              // Bestimme die längste Seite und skaliere auf maximal 1300px
              const maxDimension = 1300;
              if (width > maxDimension || height > maxDimension) {
                if (width >= height) {
                  height = Math.round((height * maxDimension) / width);
                  width = maxDimension;
                } else {
                  width = Math.round((width * maxDimension) / height);
                  height = maxDimension;
                }
              }
              
              canvas.width = width;
              canvas.height = height;
              
              const ctx = canvas.getContext('2d');
              ctx.drawImage(img, 0, 0, width, height);
              
              // Konvertiere zu JPEG mit 80% Qualität
              canvas.toBlob((blob) => {
                resolve(new File([blob], file.name, {
                  type: 'image/jpeg'
                }));
              }, 'image/jpeg', 0.8);
            };
            img.src = e.target.result;
          };
          reader.readAsDataURL(file);
        });
      }

      // Form Submission Handler
      document.getElementById("submitButton").addEventListener("click", async function(e) {
        e.preventDefault();
        
        const submitButton = document.getElementById("submitButton");
        const buttonText = document.getElementById("buttonText");
        const loadingSpinner = document.getElementById("loadingSpinner");
        
        submitButton.disabled = true;
        buttonText.textContent = "Bilder werden verarbeitet...";
        loadingSpinner.classList.remove("d-none");
        
        const email = document.getElementById("emailInput").value;
        const files = document.getElementById("imageUpload").files;
        const isSinglePackage = document.getElementById("single").checked;

        try {
          // Komprimiere alle Bilder
          const compressedFiles = await Promise.all(
            Array.from(files).map(file => compressImage(file))
          );
          
          buttonText.textContent = "Bilder werden hochgeladen...";
          
          // Sende alle komprimierten Bilder in einem Request
          const formData = new FormData();
          formData.append("email", email);
          formData.append("package", isSinglePackage ? "1 Bild" : "5 Bilder");
          formData.append("access_key", "7faad0d1-99c2-433f-bb35-93597db07fb1");
          
          compressedFiles.forEach((file, index) => {
            formData.append(`file${index + 1}`, file);
          });

          const response = await fetch("https://api.web3forms.com/submit", {
            method: "POST",
            body: formData
          });

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }

          const data = await response.json();
          if (data.success) {
            // Weiterleitung zu Stripe
            const stripeUrl = isSinglePackage 
              ? 'https://buy.stripe.com/7sI3dz8vs3CJgmIaEE'
              : 'https://buy.stripe.com/5kA5lH9zwflr2vS8wy';

            const checkoutUrl = `${stripeUrl}?prefilled_email=${encodeURIComponent(email)}`;
            window.location.href = checkoutUrl;
          } else {
            throw new Error('Upload fehlgeschlagen');
          }

        } catch (error) {
          alert("Es ist ein Fehler aufgetreten. Bitte versuche es später erneut.");
          console.error(error);
          buttonText.textContent = "Fotos bestellen";
          loadingSpinner.classList.add("d-none");
          validateForm();
        }
      });

      // Smooth Scroll Funktion
      function scrollToOrder() {
        const orderSection = document.querySelector('.pricing-section');
        orderSection.scrollIntoView({ 
          behavior: 'smooth',
          block: 'start'
        });
      }

      document.addEventListener('DOMContentLoaded', function() {
        const comparers = document.querySelectorAll('.image-compare');
        
        comparers.forEach(comparer => {
          const handle = comparer.querySelector('.slider-handle');
          const beforeImage = comparer.querySelector('.image-before');
          let isResizing = false;

          // Maus-Events
          handle.addEventListener('mousedown', startResizing);
          document.addEventListener('mousemove', resize);
          document.addEventListener('mouseup', stopResizing);

          // Touch-Events
          handle.addEventListener('touchstart', startResizing);
          document.addEventListener('touchmove', resize);
          document.addEventListener('touchend', stopResizing);

          function startResizing(e) {
            isResizing = true;
            e.preventDefault();
          }

          function stopResizing() {
            isResizing = false;
          }

          function resize(e) {
            if (!isResizing) return;

            const rect = comparer.getBoundingClientRect();
            const x = (e.type === 'mousemove' ? e.pageX : e.touches[0].pageX) - rect.left;
            const position = Math.max(0, Math.min(x / rect.width * 100, 100));

            handle.style.left = `${position}%`;
            beforeImage.style.clipPath = `polygon(0 0, ${position}% 0, ${position}% 100%, 0 100%)`;
          }
        });
      });
    </script>

    
  </body>
</html>
